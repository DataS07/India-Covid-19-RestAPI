from flask import Flask, jsonify, g
from update import Update

app = Flask(__name__)

data = {
    "Delhi": {
        "10/03/2020": [4, 0, -1, -1],
        "12/03/2020": [6, 0, 0, -1],
        "13/03/2020": [6, 0, 0, 0],
        "14/03/2020": [7, 0, 1, 1],
        "15/03/2020": [7, 0, 2, 1],
        "16/03/2020": [7, 0, 2, 1],
        "17/03/2020": [7, 0, 2, 1],
        "18/03/2020": [9, 1, 2, 1],
    },
    "Haryana": {
        "10/03/2020": [0, 14, -1, -1],
        "12/03/2020": [0, 14, 0, -1],
        "13/03/2020": [0, 14, 0, 0],
        "14/03/2020": [0, 14, 0, 0],
        "15/03/2020": [0, 14, 0, 0],
        "16/03/2020": [0, 14, 0, 0],
        "17/03/2020": [0, 14, 0, 0],
        "18/03/2020": [3, 14, 0, 0],
    },
    "Kerala": {
        "10/03/2020": [9, 0, -1, -1],
        "12/03/2020": [17, 0, 3, -1],
        "13/03/2020": [19, 0, 3, 0],
        "14/03/2020": [19, 0, 3, 0],
        "15/03/2020": [22, 0, 3, 0],
        "16/03/2020": [23, 0, 3, 0],
        "17/03/2020": [22, 2, 3, 0],
        "18/03/2020": [25, 2, 3, 0],
    },
    "Rajasthan": {
        "10/03/2020": [0, 2, -1, -1],
        "12/03/2020": [1, 2, 0, -1],
        "13/03/2020": [1, 2, 0, 0],
        "14/03/2020": [1, 2, 1, 0],
        "15/03/2020": [2, 2, 3, 0],
        "16/03/2020": [2, 2, 3, 0],
        "17/03/2020": [2, 2, 3, 0],
        "18/03/2020": [2, 2, 3, 0],
    },
    "Telengana": {
        "10/03/2020": [1, 0, -1, -1],
        "12/03/2020": [1, 0, 0, -1],
        "13/03/2020": [1, 0, 0, 0],
        "14/03/2020": [1, 0, 0, 0],
        "15/03/2020": [3, 0, 1, 0],
        "16/03/2020": [3, 0, 1, 0],
        "17/03/2020": [4, 0, 1, 0],
        "18/03/2020": [4, 2, 1, 0],
    },
    "Uttar Pradesh": {
        "10/03/2020": [9, 0, -1, -1],
        "12/03/2020": [10, 1, 0, -1],
        "13/03/2020": [10, 1, 0, 0],
        "14/03/2020": [11, 1, 5, 0],
        "15/03/2020": [12, 1, 4, 0],
        "16/03/2020": [12, 1, 4, 0],
        "17/03/2020": [12, 1, 4, 0],
        "18/03/2020": [15, 1, 5, 0],
    },
    "Union Territory of Ladakh": {
        "10/03/2020": [2, 0, -1, -1],
        "12/03/2020": [3, 0, 0, -1],
        "13/03/2020": [3, 0, 0, 0],
        "14/03/2020": [3, 0, 0, 0],
        "15/03/2020": [3, 0, 0, 0],
        "16/03/2020": [4, 0, 0, 0],
        "17/03/2020": [4, 0, 0, 0],
        "18/03/2020": [8, 0, 0, 0],
    },
    "Tamil Nadu": {
        "10/03/2020": [1, 0, -1, -1],
        "12/03/2020": [1, 0, 0, -1],
        "13/03/2020": [1, 0, 0, 0],
        "14/03/2020": [1, 0, 0, 0],
        "15/03/2020": [1, 0, 0, 0],
        "16/03/2020": [1, 0, 0, 0],
        "17/03/2020": [1, 0, 0, 0],
        "18/03/2020": [1, 0, 0, 0],
    },
    "Union Territory of Jammu and Kashmir": {
        "10/03/2020": [1, 0, -1, -1],
        "12/03/2020": [1, 0, 0, -1],
        "13/03/2020": [1, 0, 0, 0],
        "14/03/2020": [2, 0, 0, 0],
        "15/03/2020": [2, 0, 0, 0],
        "16/03/2020": [3, 0, 0, 0],
        "17/03/2020": [3, 0, 0, 0],
        "18/03/2020": [3, 0, 0, 0],
    },
    "Punjab": {
        "10/03/2020": [1, 0, -1, -1],
        "12/03/2020": [1, 0, 0, -1],
        "13/03/2020": [1, 0, 0, 0],
        "14/03/2020": [1, 0, 0, 0],
        "15/03/2020": [1, 0, 0, 0],
        "16/03/2020": [1, 0, 0, 0],
        "17/03/2020": [1, 0, 0, 0],
        "18/03/2020": [1, 0, 0, 0],
    },
    "Karnataka": {
        "10/03/2020": [1, 0, -1, -1],
        "12/03/2020": [4, 0, 0, -1],
        "13/03/2020": [6, 0, 0, 1],
        "14/03/2020": [6, 0, 0, 1],
        "15/03/2020": [6, 0, 0, 1],
        "16/03/2020": [6, 0, 0, 1],
        "17/03/2020": [8, 0, 0, 1],
        "18/03/2020": [11, 0, 0, 1],
    },
    "Maharashtra": {
        "10/03/2020": [2, 0, -1, -1],
        "12/03/2020": [11, 0, 0, -1],
        "13/03/2020": [14, 0, 0, 0],
        "14/03/2020": [14, 0, 0, 0],
        "15/03/2020": [32, 0, 0, 0],
        "16/03/2020": [32, 0, 0, 0],
        "17/03/2020": [36, 3, 0, 0],
        "18/03/2020": [39, 3, 0, 1],
    },
    "Andhra Pradesh": {
        "12/03/2020": [1, 0, 0, -1],
        "13/03/2020": [1, 0, 0, 0],
        "14/03/2020": [1, 0, 0, 0],
        "15/03/2020": [1, 0, 0, 0],
        "16/03/2020": [1, 0, 0, 0],
        "17/03/2020": [1, 0, 0, 0],
        "18/03/2020": [1, 0, 0, 0],
    },
    "Uttarakhand": {
        "15/03/2020": [1, 0, 0, 0],
        "16/03/2020": [1, 0, 0, 0],
        "17/03/2020": [1, 0, 0, 0],
        "18/03/2020": [1, 0, 0, 0],
    },
    "Odisha": {
        "16/03/2020": [1, 0, 0, 0],
        "17/03/2020": [1, 0, 0, 0],
        "18/03/2020": [1, 0, 0, 0],
    },
    "Pondicherry": {"18/03/2020": [1, 0, 0, 0]},
    "West Bengal": {"18/03/2020": [1, 0, 0, 0]},
}


@app.route("/v1/states", methods=["GET"])
def states():
    updater = Update("https://www.mohfw.gov.in/")
    history = updater.update(data)
    return jsonify(history)


@app.route("/v1/overall", methods=["GET"])
def overall():
    updater = Update("https://www.mohfw.gov.in/")
    oa = updater.get_overall()
    return jsonify(oa)


if __name__ == "__main__":
    app.run()

